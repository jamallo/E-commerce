<h2>Mis direcciones</h2>

<button (click)="nueva()">â• Nueva direcciÃ³n</button>

@for (direccion of direcciones; track direccion.id) {
  <div class="direccion-card">
    <p>{{ direccion.nombre }} {{ direccion.apellidos }}</p>
    <p>{{ direccion.direccion }}</p>
    <p>{{ direccion.ciudad }} {{ direccion.codigoPostal }}, {{ direccion.provincia }}</p>
    <p>{{ direccion.telefono }}</p>
  </div>

  <button (click)="editar(direccion)">âœï¸ Editar</button>
  <button (click)="eliminar(direccion.id!)">ğŸ—‘ï¸ Borrar</button>

  @if (!direccion.principal) {
    <button (click)="principal(direccion.id!)">â­ Marcar principal</button>
  }
}

@if (mostrarFormulario && direccionesEditando) {
  <hr>
  <h3>
    {{ direccionesEditando.id ? 'Editar direcciÃ³n' : 'Nueva direcciÃ³n' }}
  </h3>

  <input [(ngModel)]="direccionesEditando.nombre" placeholder="Nombre">
  <input [(ngModel)]="direccionesEditando.apellidos" placeholder="Apellidos">
  <input [(ngModel)]="direccionesEditando.direccion" placeholder="DirecciÃ³n">
  <input [(ngModel)]="direccionesEditando.ciudad" placeholder="Ciudad">
  <input [(ngModel)]="direccionesEditando.codigoPostal" placeholder="CÃ³digo postal">
  <input [(ngModel)]="direccionesEditando.provincia" placeholder="Provincia">
  <input [(ngModel)]="direccionesEditando.telefono" placeholder="TelÃ©fono">

  <label>
    <input type="checkbox" [(ngModel)]="direccionesEditando.principal">
    DirecciÃ³n principal
  </label>

  <br>

  <button (click)="guardar()">ğŸ’¾ Guardar</button>
  <button (click)="cancelar()">âŒ Cancelar</button>
}
